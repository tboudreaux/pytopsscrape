

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyTOPSScrape package &mdash; pyTOPSScrape 0.5 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pyTOPSScrape.api package" href="pyTOPSScrape.api.html" />
    <link rel="prev" title="Welcome to pyTOPSScrape’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pyTOPSScrape
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Home</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pyTOPSScrape.api.html">pyTOPSScrape.api package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyTOPSScrape.err.html">pyTOPSScrape.err package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyTOPSScrape.misc.html">pyTOPSScrape.misc package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyTOPSScrape.parse.html">pyTOPSScrape.parse package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyTOPSScrape.scripts.html">pyTOPSScrape.scripts package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-pyTOPSScrape">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pytopsscrape">pyTOPSScrape</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pypi">PyPi</a></li>
<li class="toctree-l4"><a class="reference internal" href="#github">GitHub</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#simple-examples">Simple Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-line">Command Line</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-interface">Python Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-examples">Additional Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-arguments">Command Line Arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#positional-arguments">Positional Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#optional-arguments">Optional Arguments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#input-file-formats">Input File Formats</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#composition-file">Composition file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#map-file">Map file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#testing">Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#etiquette-cacheing">Etiquette &amp; Cacheing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes-references">Notes &amp; References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyTOPSScrape.api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyTOPSScrape.err.html">Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyTOPSScrape.parse.html">Parsing</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyTOPSScrape.scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyTOPSScrape.misc.html">Misc</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyTOPSScrape</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>pyTOPSScrape package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pyTOPSScrape.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pytopsscrape-package">
<h1>pyTOPSScrape package<a class="headerlink" href="#pytopsscrape-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyTOPSScrape.api.html">pyTOPSScrape.api package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.api.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.api.html#module-pyTOPSScrape.api.api">pyTOPSScrape.api.api module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.api.html#module-pyTOPSScrape.api.convert">pyTOPSScrape.api.convert module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.api.html#module-pyTOPSScrape.api.utils">pyTOPSScrape.api.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.api.html#module-pyTOPSScrape.api">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyTOPSScrape.err.html">pyTOPSScrape.err package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.err.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.err.html#module-pyTOPSScrape.err.err">pyTOPSScrape.err.err module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.err.html#module-pyTOPSScrape.err">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyTOPSScrape.misc.html">pyTOPSScrape.misc package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.misc.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pyTOPSScrape.misc.dataFiles.html">pyTOPSScrape.misc.dataFiles package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pyTOPSScrape.misc.dataFiles.html#module-pyTOPSScrape.misc.dataFiles">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.misc.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.misc.html#module-pyTOPSScrape.misc.utils">pyTOPSScrape.misc.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.misc.html#module-pyTOPSScrape.misc">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyTOPSScrape.parse.html">pyTOPSScrape.parse package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.parse.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.parse.html#module-pyTOPSScrape.parse.abundance">pyTOPSScrape.parse.abundance module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.parse.html#module-pyTOPSScrape.parse.opal">pyTOPSScrape.parse.opal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.parse.html#module-pyTOPSScrape.parse.tops">pyTOPSScrape.parse.tops module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.parse.html#module-pyTOPSScrape.parse">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyTOPSScrape.scripts.html">pyTOPSScrape.scripts package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.scripts.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.scripts.html#module-pyTOPSScrape.scripts.main">pyTOPSScrape.scripts.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyTOPSScrape.scripts.html#module-pyTOPSScrape.scripts">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="module-pyTOPSScrape">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyTOPSScrape" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pytopsscrape">
<h3>pyTOPSScrape<a class="headerlink" href="#pytopsscrape" title="Permalink to this headline">¶</a></h3>
<p>A package which aims to make the programmatic retrieval and use of high
temperature radiative opacity tables from LANL somewhat simple</p>
<p>pyTOPSScrape provides both a command line and a python interface. The command
line interface runs through the generateTOPStables script (which will have been
installed to your path when you installed this package)</p>
<p>The python interface can mimic the full command line interface (including error
checking and rate limiting) using the full_run function. If however, you wish
to dig down to a more granular level the api module includes both query and
convert sub modules which may be composed as needed.</p>
</div>
<div class="section" id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="pypi">
<h4>PyPi<a class="headerlink" href="#pypi" title="Permalink to this headline">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pip</span> <span class="n">install</span> <span class="n">pyTOPSScrape</span>
</pre></div>
</div>
</div>
<div class="section" id="github">
<h4>GitHub<a class="headerlink" href="#github" title="Permalink to this headline">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">tboudreaux</span><span class="o">/</span><span class="n">pytopsscrape</span><span class="o">.</span><span class="n">git</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cd</span> <span class="n">pytopsscrape</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="simple-examples">
<h3>Simple Examples<a class="headerlink" href="#simple-examples" title="Permalink to this headline">¶</a></h3>
<p>Assuming you have the files GS98.abun and rescalings.dat in your current
working directory</p>
<div class="section" id="command-line">
<h4>Command Line<a class="headerlink" href="#command-line" title="Permalink to this headline">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">generateTOPStables</span> <span class="n">GS98</span><span class="o">.</span><span class="n">abun</span> <span class="n">rescalings</span><span class="o">.</span><span class="n">dat</span> <span class="o">-</span><span class="n">d</span> <span class="o">./</span><span class="n">rawOutput</span> <span class="o">-</span><span class="n">o</span> <span class="n">GS98</span><span class="o">.</span><span class="n">opac</span> <span class="o">-</span><span class="n">j</span> <span class="mi">20</span>
</pre></div>
</div>
</div>
<div class="section" id="python-interface">
<h4>Python Interface<a class="headerlink" href="#python-interface" title="Permalink to this headline">¶</a></h4>
<p>You can replicate the behavior of the command line using the <cite>full_run()</cite>
function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyTOPSScrape</span> <span class="kn">import</span> <span class="n">full_run</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;abunTable&quot;</span><span class="p">:</span> <span class="s2">&quot;./GS98.abun&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;abunMap&quot;</span><span class="p">:</span> <span class="s2">&quot;./exampleAbunMap.dat&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;outputDirectory&quot;</span><span class="p">:</span> <span class="s2">&quot;./rawOutput&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;noopal&quot;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;nofetch&quot;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;output&quot;</span> <span class="p">:</span> <span class="s2">&quot;./GS98TestResult.opac&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;hardforce&quot;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;jobs&quot;</span> <span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s2">&quot;rect&quot;</span> <span class="p">:</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">full_run</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, you can call pyTOPSScrape in a more granular manner. For example,
if you just wish to query the tables from the TOPS web form but not perform any
conversion on them one could use the following python code.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyTOPSScrape.api</span> <span class="kn">import</span> <span class="n">call</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&quot;./rawOutput&quot;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s2">&quot;./rawOutput&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;./rescalings.dat&quot;</span><span class="p">,</span> <span class="s2">&quot;./GS98.dat&quot;</span><span class="p">,</span> <span class="s2">&quot;./rawOutput&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="additional-examples">
<h4>Additional Examples<a class="headerlink" href="#additional-examples" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://github.com/tboudreaux/pytopsscrape/tree/master/examples">Examples</a> of both the command line interface and the python interface (<a class="reference external" href="https://github.com/tboudreaux/pytopsscrape/blob/master/examples/Notebooks/pyTOPSScrapeInterface.ipynb">notebook</a>) are
included in the pyTOPSScrape repository.</p>
</div>
</div>
<div class="section" id="command-line-arguments">
<h3>Command Line Arguments<a class="headerlink" href="#command-line-arguments" title="Permalink to this headline">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">usage</dt>
<dd class="field-odd"><p>generateTOPStables [-h] [-f] [-d OUTPUTDIRECTORY] [–noopal] [–nofetch] [-o OUTPUT] [–hardforce] [-j JOBS] [–rect] abunTable abunMap</p>
</dd>
</dl>
<div class="section" id="positional-arguments">
<h4>Positional Arguments<a class="headerlink" href="#positional-arguments" title="Permalink to this headline">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">abunTable</dt>
<dd class="field-odd"><p>Table to pull abundances from. If set numFracProgram must point to executable expecting table input</p>
</dd>
<dt class="field-even">abunMap</dt>
<dd class="field-even"><p>Map of which classical compositions to query the TOPS web form for. Each classical composition will be achieved by rescaling the base composition described in the abunTable</p>
</dd>
</dl>
</div>
<div class="section" id="optional-arguments">
<h4>Optional Arguments<a class="headerlink" href="#optional-arguments" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>show this help message and exit</p>
</dd>
<dt><kbd><span class="option">-f</span>, <span class="option">--force</span></kbd></dt>
<dd><p>force the generation of new abunance tables</p>
</dd>
<dt><kbd><span class="option">-d <var>OUTPUTDIRECTORY</var></span>, <span class="option">--outputDirectory <var>OUTPUTDIRECTORY</var></span></kbd></dt>
<dd><p>directory to save abundance files too</p>
</dd>
<dt><kbd><span class="option">--noopal</span></kbd></dt>
<dd><p>Run the code to convert TOPS table toOPAL compatible tables</p>
</dd>
<dt><kbd><span class="option">--nofetch</span></kbd></dt>
<dd><p>do not fetch opacity tables from TOPS</p>
</dd>
<dt><kbd><span class="option">-o <var>OUTPUT</var></span>, <span class="option">--output <var>OUTPUT</var></span></kbd></dt>
<dd><p>file to write OPAL formated table to</p>
</dd>
<dt><kbd><span class="option">--hardforce</span></kbd></dt>
<dd><p>Override all already extant directories</p>
</dd>
<dt><kbd><span class="option">-j <var>JOBS</var></span>, <span class="option">--jobs <var>JOBS</var></span></kbd></dt>
<dd><p>Number of processes to query the TOPS web form on</p>
</dd>
<dt><kbd><span class="option">--rect</span></kbd></dt>
<dd><p>if True store OPAL tables rectangurally. This is not how <abbr title="Dartmouth Stellar Evolution Program">DSEP</abbr> uses tables; however, by way of wider applicability
–rect may be used</p>
</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="input-file-formats">
<h3>Input File Formats<a class="headerlink" href="#input-file-formats" title="Permalink to this headline">¶</a></h3>
<p>pyTOPSScrape requires two input files to run. One (the first positional
argument and hereafter the ‘composition file’) describes the base composition.
The second positional argument (hereafter the ‘map file’) describes the set of
classical compositions which will be queried from the TOPS web form. Each of
these compositions will be a rescaling of the base composition (therefore the
metal mass fractions wrt. Z will be maintained)</p>
<div class="section" id="composition-file">
<h4>Composition file<a class="headerlink" href="#composition-file" title="Permalink to this headline">¶</a></h4>
<p>The composition file should be in the following form</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#STD [Fe/H] [alpha/Fe] [C/Fe] [N/Fe] [O/Fe] [r/Fe] [s/Fe] C/O X Y,Z</span>
<span class="n">F</span> <span class="o">-</span><span class="mf">1.13</span> <span class="mf">0.32</span> <span class="o">-</span><span class="mf">0.43</span> <span class="o">-</span><span class="mf">0.28</span> <span class="mf">0.31</span> <span class="o">-</span><span class="mf">1.13</span> <span class="o">-</span><span class="mf">1.13</span> <span class="mf">0.10</span> <span class="mf">0.7584</span> <span class="mf">0.2400</span><span class="p">,</span><span class="mf">1.599E-03</span>
<span class="c1">#H He Li Be B C N O F Ne</span>
<span class="mf">12.00</span> <span class="mf">10.898</span> <span class="o">-</span><span class="mf">0.08</span> <span class="mf">0.25</span> <span class="mf">1.57</span> <span class="mf">6.87</span> <span class="mf">6.42</span> <span class="mf">7.87</span> <span class="mf">3.43</span> <span class="mf">7.12</span>
<span class="c1">#Na Mg Al Si P S Cl Ar K Ca</span>
<span class="mf">5.11</span> <span class="mf">6.86</span> <span class="mf">5.21</span> <span class="mf">6.65</span> <span class="mf">4.28</span> <span class="mf">6.31</span> <span class="o">-</span><span class="mf">1.13</span> <span class="mf">5.59</span> <span class="mf">3.90</span> <span class="mf">5.21</span>
<span class="c1">#Sc Ti V Cr Mn Fe Co Ni Cu Zn</span>
<span class="mf">2.02</span> <span class="mf">3.82</span> <span class="mf">2.80</span> <span class="mf">4.51</span> <span class="mf">4.30</span> <span class="mf">6.37</span> <span class="mf">3.86</span> <span class="mf">5.09</span> <span class="mf">3.06</span> <span class="mf">2.30</span>
<span class="c1">#Ga Ge As Se Br Kr Rb Sr Y Zr</span>
<span class="mf">0.78</span> <span class="mf">1.39</span> <span class="mf">0.04</span> <span class="mf">1.08</span> <span class="mf">0.28</span> <span class="mf">0.99</span> <span class="mf">0.26</span> <span class="mf">0.61</span> <span class="mf">1.08</span> <span class="mf">1.45</span>
<span class="c1">#Nb Mo Tc Ru Rh Pd Ag Cd In Sn</span>
<span class="o">-</span><span class="mf">0.80</span> <span class="o">-</span><span class="mf">0.38</span> <span class="o">-</span><span class="mf">99.00</span> <span class="o">-</span><span class="mf">0.51</span> <span class="o">-</span><span class="mf">1.35</span> <span class="o">-</span><span class="mf">0.69</span> <span class="o">-</span><span class="mf">1.32</span> <span class="o">-</span><span class="mf">0.55</span> <span class="o">-</span><span class="mf">1.46</span> <span class="o">-</span><span class="mf">0.22</span>
<span class="c1">#Sb Te I Xe Cs Ba La Ce Pr Nd</span>
<span class="o">-</span><span class="mf">1.25</span> <span class="o">-</span><span class="mf">0.08</span> <span class="o">-</span><span class="mf">0.71</span> <span class="o">-</span><span class="mf">0.02</span> <span class="o">-</span><span class="mf">1.18</span> <span class="mf">1.05</span> <span class="o">-</span><span class="mf">0.03</span> <span class="mf">0.45</span> <span class="o">-</span><span class="mf">1.54</span> <span class="mf">0.29</span>
<span class="c1">#Pm Sm Eu Gd Tb Dy Ho Er Tm Yb</span>
<span class="o">-</span><span class="mf">99.00</span> <span class="o">-</span><span class="mf">1.30</span> <span class="o">-</span><span class="mf">0.61</span> <span class="o">-</span><span class="mf">1.19</span> <span class="o">-</span><span class="mf">1.96</span> <span class="o">-</span><span class="mf">1.16</span> <span class="o">-</span><span class="mf">1.78</span> <span class="o">-</span><span class="mf">1.34</span> <span class="o">-</span><span class="mf">2.16</span> <span class="o">-</span><span class="mf">1.42</span>
<span class="c1">#Lu Hf Ta W Re Os Ir Pt Au Hg</span>
<span class="o">-</span><span class="mf">2.16</span> <span class="o">-</span><span class="mf">1.41</span> <span class="o">-</span><span class="mf">2.38</span> <span class="o">-</span><span class="mf">1.41</span> <span class="o">-</span><span class="mf">2.00</span> <span class="o">-</span><span class="mf">0.86</span> <span class="o">-</span><span class="mf">0.88</span> <span class="o">-</span><span class="mf">0.64</span> <span class="o">-</span><span class="mf">1.34</span> <span class="o">-</span><span class="mf">1.09</span>
<span class="c1">#Tl Pb Bi Po At Rn Fr Ra Ac Th</span>
<span class="o">-</span><span class="mf">1.36</span> <span class="o">-</span><span class="mf">0.51</span> <span class="o">-</span><span class="mf">1.61</span> <span class="o">-</span><span class="mf">99.00</span> <span class="o">-</span><span class="mf">99.00</span> <span class="o">-</span><span class="mf">99.00</span> <span class="o">-</span><span class="mf">99.00</span> <span class="o">-</span><span class="mf">99.00</span> <span class="o">-</span><span class="mf">99.00</span> <span class="o">-</span><span class="mf">2.20</span>
<span class="c1">#Pa U</span>
<span class="o">-</span><span class="mf">99.00</span> <span class="o">-</span><span class="mf">2.80</span>
</pre></div>
</div>
</div>
<div class="section" id="map-file">
<h4>Map file<a class="headerlink" href="#map-file" title="Permalink to this headline">¶</a></h4>
<p>The map file should be in the following form</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.75</span><span class="p">,</span><span class="mf">0.24</span><span class="p">,</span><span class="mf">0.01</span>
<span class="mf">0.75</span><span class="p">,</span><span class="mf">0.23</span><span class="p">,</span><span class="mf">0.02</span>
</pre></div>
</div>
<p>Where each row is X,Y,Z. The number of rows in this file will correspond to the
number of queries issued against the TOPS web form (i.e. if you have a Map file
with three rows then the TOPS webform will be queried three times. For <abbr title="Dartmouth Stellar Evolution Program">DSEP</abbr>
we use a file of 126 rows so for a single <abbr title="Dartmouth Stellar Evolution Program">DSEP</abbr> formatted OPAL table we merge the
contents of 126 queries against the TOPS webform)</p>
</div>
</div>
<div class="section" id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<p>pyTOPSScrape ships with a number of tests which should be run to make sure that
it installed correctly on your system. Additionally, as it is reliant on an
external server it is a certainty that one day it will break. To run the tests
a script has been included. From the pyTOPSScrape root directory</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cd</span> <span class="n">tests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">./</span><span class="n">runTests</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</div>
<div class="section" id="etiquette-cacheing">
<h3>Etiquette &amp; Cacheing<a class="headerlink" href="#etiquette-cacheing" title="Permalink to this headline">¶</a></h3>
<p>pyTOPSScrape makes use web servers hosted at Los Alamos National Labs (LANL).
Before releasing this software I spoke with the T-1 group at LANL and received
their assent. However, try to limit requests made against their web servers as
much as possible. Obviously, if you are querying  a few hundred tables because
your stellar evolution code needs a few hundred opacity tables there is little
to be done; however, do try and make sure that you have sorted out any and all
bugs or typos in your input files before you query so that you won’t have to go
back and query multiple times. We want to be respectful of of the generosity of
LANL here!</p>
<p>Additionally, pyTOPSScrape caches the raw query results to whatever directory
is specified by the -d or –outputDirectory flag. This is so that if you want
to implement your own converted you can do so without constantly re running the
query functions. These results are cached in whatever directory is set in the
–outputDirectory (or -d) command line option. To call the command line
interface with cache usage enabled use the –nofetch flag. If you want to fetch
tables and don’t want to run the conversion set use the –noopal flag.</p>
<p>As an example, if you have already queried the TOPS web form using the command</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">generateTOPStables</span> <span class="n">GS98</span><span class="o">.</span><span class="n">abun</span> <span class="n">rescalings</span><span class="o">.</span><span class="n">dat</span> <span class="o">-</span><span class="n">d</span> <span class="o">./</span><span class="n">rawOutput</span> <span class="o">-</span><span class="n">o</span> <span class="n">GS98</span><span class="o">.</span><span class="n">opac</span> <span class="o">-</span><span class="n">j</span> <span class="mi">20</span> <span class="o">--</span><span class="n">noopal</span>
</pre></div>
</div>
<p>this will save all the raw output to the directory ./rawOutput (if you run the
first example from this docs page this will also cache the results). You can
then convert these to <abbr title="Dartmouth Stellar Evolution Program">DSEP</abbr>’s OPAL format using the command</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">generateTOPStables</span> <span class="n">GS98</span><span class="o">.</span><span class="n">abun</span> <span class="n">rescalings</span><span class="o">.</span><span class="n">dat</span> <span class="o">-</span><span class="n">d</span> <span class="o">./</span><span class="n">rawOutput</span> <span class="o">-</span><span class="n">o</span> <span class="n">GS98</span><span class="o">.</span><span class="n">opac</span> <span class="o">-</span><span class="n">j</span> <span class="mi">20</span> <span class="o">--</span><span class="n">nofetch</span>
</pre></div>
</div>
</div>
<div class="section" id="notes-references">
<h3>Notes &amp; References<a class="headerlink" href="#notes-references" title="Permalink to this headline">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">Website</dt>
<dd class="field-odd"><p><a class="reference external" href="https://aphysics2.lanl.gov/apps/">https://aphysics2.lanl.gov/apps/</a></p>
</dd>
<dt class="field-even">Paper Describing Opacity Tables</dt>
<dd class="field-even"><p>Colgan, James, et al. “A new generation of Los Alamos opacity tables.” The Astrophysical Journal 817.2 (2016): 116.</p>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="pyTOPSScrape.api.html" class="btn btn-neutral float-right" title="pyTOPSScrape.api package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to pyTOPSScrape’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Thomas Boudreaux.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>